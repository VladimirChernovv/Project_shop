{"version":3,"sources":["components/Header.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","components/Footer.jsx","App.js","index.js"],"names":["Header","className","href","id","Preloader","GoodsItem","props","mainId","displayName","displayAssets","displayDescription","price","addToBasket","Function","prototype","src","url","alt","onClick","style","fontSize","finalPrice","GoodsList","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incrementQuantity","decrementQuantity","regularPrice","BasketList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","process","then","response","json","data","shop","console","log","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9dc166bc.chunk.js","sourcesContent":["function Header() {\n  return  <nav className=\"green lighten-3\">\n    <div className=\"nav-wrapper\">\n      <a href=\"#\" className=\"brand-logo\">React Shop</a>\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n        <li><a href=\"!#\">Repo</a></li>\n      </ul>\n    </div>\n  </nav>\n};\n\nexport {Header};","function Preloader() {\n  return <div className=\"progress\">\n    <div className=\"indeterminate\"></div>\n  </div>\n};\n\nexport {Preloader};","function GoodsItem(props) {\n  const {\n    mainId,\n    displayName,\n    displayAssets,\n    displayDescription,\n    price,\n    addToBasket = Function.prototype\n  } = props;\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={displayAssets[0].url} alt={displayName} />\n      </div>\n      <div className=\"card-content\">\n      <span className=\"card-title\">{displayName}</span>\n        <p>\n          {displayDescription}\n        </p>\n      </div>\n      <div className=\"card-action\">\n        <button\n          className=\"btn\"\n          onClick={() =>\n            addToBasket({\n              mainId,\n              displayName,\n              price,\n            }) \n          }\n        >\n          Купить</button>\n        <span className=\"right\" style={{fontSize: '1.8rem'}}>{price.finalPrice} руб.</span>\n      </div>\n    </div>\n  );\n};\n\nexport {GoodsItem};","import {GoodsItem} from './GoodsItem';\n\nfunction GoodsList(props) {\n  const {goods = [], addToBasket = Function.prototype} = props;\n\n  if (!goods.length) {\n    return <h3>There is nothing here.</h3>\n  };\n\n  return <div className=\"goods\">\n    {goods.map((item) => (\n      <GoodsItem key={item.mainId} {...item} addToBasket={addToBasket} />\n    ))}\n  </div>\n};\n\nexport {GoodsList};","function Cart(props) {\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\n  return (\n    <div className=\"cart orange darken-3 white-text\"\n      onClick={handleBasketShow}\n    >\n      <i className=\"material-icons\">add_shopping_cart</i>\n      {quantity ? (\n          <span className=\"cart-quantity\">{quantity}</span>\n        ) : null}\n    </div>\n  );\n};\n\nexport {Cart};","function BasketItem(props) {\n  const {\n    mainId,\n    displayName,\n    price,\n    quantity,\n    removeFromBasket = Function.prototype,\n    incrementQuantity = Function.prototype,\n    decrementQuantity = Function.prototype,\n  } = props;\n\n  return (\n    <li className=\"collection-item\">\n      {displayName} <i className=\"material-icons basket-quantity\" onClick={() => decrementQuantity(mainId)}>remove</i>x{quantity} <i className=\"material-icons basket-quantity\" onClick={() => incrementQuantity(mainId)}>add</i> = {price.regularPrice * quantity} руб.\n      <span\n        className=\"secondary-content\"\n        onClick={() => removeFromBasket(mainId)}\n      >\n        <i className=\"material-icons basket-delete\">close</i>\n      </span>\n    </li>\n  );\n};\n\nexport {BasketItem};","import {BasketItem} from './BasketItem';\n\nfunction BasketList(props) {\n  const {order = [],\n      handleBasketShow = Function.prototype,\n      removeFromBasket = Function.prototype,\n      incrementQuantity,\n      decrementQuantity,\n  } = props;\n\n  const totalPrice = order.reduce((sum, el) => {\n    return sum + el.price.regularPrice * el.quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active\">Корзина</li>\n      {order.length ? (\n        order.map((item) => (\n          <BasketItem\n            key={item.mainId}\n            removeFromBasket={removeFromBasket}\n            incrementQuantity={incrementQuantity}\n            decrementQuantity={decrementQuantity}\n            {...item}\n          />\n        ))\n      ) : (\n        <li className=\"collection-item\">Корзина пуста</li>\n      )}\n      <li className=\"collection-item active\">\n        Общая стоимость: {totalPrice} руб.\n      </li>\n      <li className=\"collection-item\">\n        <button className=\"btn btn-small\">Оформить</button>\n      </li>\n      <i\n        className=\"material-icons basket-close\"\n        onClick={handleBasketShow}\n      >\n        close\n      </i>\n    </ul>\n  );\n};\n\nexport {BasketList};","import {useEffect} from 'react';\n\nfunction Alert(props) {\n  const {displayName = '', closeAlert = Function.prototype} = props;\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    }\n  // eslint-disable-next-line\n  }, [displayName]);\n\n  return <div id=\"toast-container\">\n    <div className=\"toast\">{displayName} дабавлен в корзину</div>\n  </div>\n};\n\nexport {Alert};","import {useState, useEffect} from 'react';\nimport {API_KEY, API_URL} from '../config';\n\nimport {Preloader} from './Preloader';\nimport {GoodsList} from './GoodsList';\nimport {Cart} from './Cart';\nimport {BasketList} from './BasketList';\nimport {Alert} from './Alert';\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  // Состояние отвечающее за\n  // то видим ли мы сейчас коризину или нет\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alertName, setAlertName] = useState('');\n\n  const addToBasket = (item) => {\n    // Из item получаем объект с id, названием и ценой.\n    // Проверяем был ли он ранее добавлен.\n    // Если нет, росто добавляем новый\n    const itemIndex = order.findIndex(orderItem => orderItem.mainId === item.mainId);\n\n    if (itemIndex < 0) {\n      const newItem = {\n        ...item,\n        quantity: 1,\n      };\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((orderItem, index) => {\n        if (index === itemIndex) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity + 1\n          }\n        } else {\n          return orderItem; // Должен быть orderItem\n        }\n      });\n      setOrder(newOrder);\n    };\n    setAlertName(item.displayName);\n  };\n\n  // Функция удаления товара из корзины\n  const removeFromBasket = (itemId) => {\n    const newOrder = order.filter(el => el.mainId !== itemId)\n    setOrder(newOrder);\n  };\n\n  // Функция добавления количества конкретного\n  // товара в корзине\n  const incrementQuantity = (itemId) => {\n    const newOrder = order.map(el => {\n      if (el.mainId === itemId) {\n        const newQuantity = el.quantity + 1;\n\n        return {\n          ...el,\n          quantity: newQuantity,\n        };\n      } else {\n        return el;\n      };\n    });\n    setOrder(newOrder);\n  };\n\n  // Функция удаления количества конкретного\n  // товара в корзине\n  const decrementQuantity = (itemId) => {\n    const newOrder = order.map((el) => {\n      if (el.mainId === itemId) {\n        const newQuantity = el.quantity - 1;\n\n        return {\n          ...el,\n          quantity: newQuantity >= 0 ? newQuantity : 0,\n        };\n      } else {\n        return el;\n      };\n    });\n    setOrder(newOrder);\n  };\n\n  // Функция управляющая состоянием показа\n  const handleBasketShow = () => {\n    setBasketShow(!isBasketShow);\n  };\n\n  const closeAlert = () => {\n    setAlertName('')\n  };\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      // Массив опция для того чтоб мы\n      // отправляли заголовки\n      headers: {\n        'Authorization': API_KEY,\n      }\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setGoods(data.shop);\n        setLoading(false);\n        console.log(data);\n      });\n\n  }, []);\n\n  return (\n    <main className='container content'>\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? (\n        <Preloader />\n      ) : (\n        <GoodsList goods={goods} addToBasket={addToBasket} />\n      )}\n      {isBasketShow && (\n        <BasketList\n          order={order}\n          handleBasketShow={handleBasketShow}\n          removeFromBasket={removeFromBasket}\n          incrementQuantity={incrementQuantity}\n          decrementQuantity={decrementQuantity}\n        />\n      )}\n      {\n        alertName && <Alert displayName={alertName} closeAlert={closeAlert} />\n      }\n    </main>\n  );\n};\n\nexport {Shop};","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\n\nexport {\n  API_KEY,\n  API_URL,\n};","function Footer() {\n  return <footer className=\"page-footer green lighten-1\">\n    <div className=\"footer-copyright\">\n      <div className=\"container\">\n      © {new Date().getFullYear()} Copyright Text\n      <a className=\"grey-text text-lighten-4 right\" href=\"#!\">Repo</a>\n      </div>\n    </div>\n  </footer>\n};\n\nexport {Footer};","import {Header} from './components/Header';\nimport {Shop} from './components/Shop';\nimport {Footer} from './components/Footer'; \n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}